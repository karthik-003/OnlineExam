<!DOCTYPE html>
<html>
<head>
<meta charset="ISO-8859-1">
<title>Insert title here</title>
<script type="text/javascript" src="./scripts/jquery-2.1.1.min.js"></script>
<script type="text/javascript" src="./scripts/myScript.js"></script>
<script src="https://code.jquery.com/ui/1.11.2/jquery-ui.js"></script>
<script type="text/javascript" src="./scripts/jquery.simplePagination.js"></script>

<link rel="stylesheet" type="text/css" href="./styles/style.css">
<link rel="stylesheet" href="https://code.jquery.com/ui/1.11.2/themes/smoothness/jquery-ui.css">
<link rel="stylesheet" href="./styles/simplePagination.css">

<script type="text/javascript">
$(document).ready(function(){
	
	var query,opt1,opt2,opt3,opt4;
	$.ajax({
		type: "GET",
		url: "http://localhost:8080/OnlineExamService/exam/resources/questions",
		dataType: "xml",
		async: true,
		success: function(result) {
			var i=1;
        	$(result).find('question').each(function(){
        			query=$(this).children('query').text();
        			opt1=$(this).children('option1').text();
        			opt2=$(this).children('option2').text();
        			opt3=$(this).children('option3').text();
        			opt4=$(this).children('option4').text();
        			question="<span>"+i+"."+query+"<br><input type='radio' id='qn"+i+"opt1' name='qn"+i+"'/>"+opt1+"<br><input type='radio' id='qn"+i+"opt2' name='qn"+i+"'/>"+opt2+"<br><input type='radio' id='qn"+i+"opt3' name='qn"+i+"'/>"+opt3+"<br><input type='radio' id='qn"+i+"opt4' name='qn"+i+"'/>"+opt4+"<br></span>"
        			$('#qnContainer').append(question);
        			i++;
        		
        	})
        	
        	var items= $('#qnContainer span')
        	var numItems=items.length;
			var per_page=10;
        	items.slice(per_page).hide();
        	$("#pagination").pagination({
        		items: numItems,
                itemsOnPage: per_page,
                cssStyle: "compact-theme",
                onPageClick: function(pageNumber) { // this is where the magic happens
                    // someone changed page, lets hide/show trs appropriately
                    var showFrom = per_page * (pageNumber - 1);
                    var showTo = showFrom + per_page;

                    items.hide() // first hide everything, then show for the new page
                         .slice(showFrom, showTo).show();
                }
        		
        		
        	});
        	
        },
        error: function (xhr, ajaxOptions, thrownError){
            
            alert(xhr.status);
            alert(thrownError);
        }
		
	});
	
	
	
	
});

</script>
</head>
<body>
<h1>Online Exam Portal</h1>
<div id="nav"></div>


<div><a class="button" id='home' href="index.html" style="float: left;">Home</a><a class="button" id='finishTest' href="#" style="float: right;">Submit Test</a></div>
<br>
<div id="qnContainer"></div>
<div id="pagination" class="compact-theme simple-pagination">

	<ul style="position: relative; padding-left: 600px;">
		<li class="active">
			<span class="current prev">Prev</span>
		</li>
		<li class="active">
			<span class="current prev">1</span>
		</li>
		<li>
			<a href="#page-2" class="page-link">2</a>
		</li>
		<li>
			<a href="#page-3" class="page-link">3</a>
		</li>
		<li>
			<a href="#page-2" class="page-link">Next</a>
		</li>
	</ul>
	
</div>

</body>
</html>