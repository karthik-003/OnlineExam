<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<title>Insert title here</title>
<script type="text/javascript" src="./scripts/jquery-2.1.1.min.js"></script>
<script type="text/javascript" src="./scripts/myScript.js"></script>
<script src="https://code.jquery.com/ui/1.11.2/jquery-ui.js"></script>
<script type="text/javascript" src="./scripts/jquery.simplePagination.js"></script>

<link rel="stylesheet" type="text/css" href="./styles/style.css">
<link rel="stylesheet" href="https://code.jquery.com/ui/1.11.2/themes/smoothness/jquery-ui.css">
<link rel="stylesheet" href="./styles/simplePagination.css">
<script type="text/javascript">
$(document).ready(function(){
	$("#qPaper").submit(function(){
		alert("calling");
		  //var formjson = $('#qPaper').serializeArray();
		  
		  //$.post("http://localhost:8080/OnlineExam/exam/resources/setQuestions", { 'data': formxml }, function(data){ 
		    // callback logic
			    //alert("posted succesfully")
		  //});
		  var x = $("#qPaper").serializeArray();
		  var quiz={
					'questionsList':[
					{'query':null,
					  'optionList':[{'optionValue':null,'isTrue':null}]
					}]
				  };
        $.each(x, function(i, field){
            //alert(i+" "+field.name + ":" + field.value + " ");
        	//alert(jsonQn[i].key)
        	if(i==0){
				jsonQn.query=field.value;
            }
            if(i==1){
            	jsonQn.opt1=field.value;
            }
            if(i==2){
            	jsonQn.opt2=field.value;
            }
            if(i==3){
            	jsonQn.opt3=field.value;
            }
            if(i==4){
            	jsonQn.opt4=field.value;
            }
            if(i==5){
            	jsonQn.correctAnswer=field.value;
            }
                
        });
        
        		
		  $.ajax({
			type: "POST",
			url: "http://localhost:8080/OnlineExam/exam/resources/setQuestions",
			data: formxml,
			dataType: "json",
			async: true,
			success: function(result) {
		
        	alert("Successfully posted")
        	},
        	error: function (xhr, ajaxOptions, thrownError){
            
            	alert(xhr.status);
            	alert(thrownError);
        	}
		
	});
		 
		  return false;
		});



	
})


</script>
</head>
<body>
<form action="" name="qPaper" id="qPaper">
	Question:<input type="text" id="qn1" name="query">
	<br>option1:<input type="text" id="opt1" name="opt1"><br>
	<br>option2:<input type="text" id="opt2" name="opt2"><br>
	<br>option3:<input type="text" id="opt3" name="opt3"><br>
	<br>option4:<input type="text" id="opt4" name="opt4"><br>
	<br>correct answer:<select id="correctAnswer" name="correctAnswer">
		<option value="opt1">Option1</option>
		<option value="opt2">Option2</option>
		<option value="opt3">Option3</option>
		<option value="opt4">Option4</option>
	</select>
	<br><input type="submit" class="button" id="submit" value="Save and  Next">
</form>
</body>
</html>